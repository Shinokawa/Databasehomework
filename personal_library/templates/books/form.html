{% extends "base.html" %}

{% block title %}{{ action_text }}图书{% endblock %}

{% block content %}
<h2>{{ action_text }}图书</h2>
<form method="POST" action="{{ form_action }}">
    <div class="mb-3">
        <label for="title" class="form-label">书名</label>
        <input type="text" class="form-control" id="title" name="title" value="{{ book.title if book else '' }}" required>
    </div>
    <div class="mb-3">
        <label for="author" class="form-label">作者</label>
        <input type="text" class="form-control" id="author" name="author" value="{{ book.author if book else '' }}" required>
    </div>
    <div class="mb-3">
        <label for="isbn" class="form-label">ISBN</label>
        <input type="text" class="form-control" id="isbn" name="isbn" value="{{ book.isbn if book else '' }}" required>
    </div>
    <div class="mb-3">
        <label for="publisher" class="form-label">出版社</label>
        <input type="text" class="form-control" id="publisher" name="publisher" value="{{ book.publisher if book else '' }}">
    </div>
    <div class="mb-3">
        <label for="publication_year" class="form-label">出版年份</label>
        <input type="number" class="form-control" id="publication_year" name="publication_year" value="{{ book.publication_year if book else '' }}">
    </div>
    <div class="mb-3">
        <label for="category" class="form-label">分类</label>
        <input type="text" class="form-control" id="category" name="category" value="{{ book.category if book else '' }}">
    </div>
    <div class="mb-3">
        <label for="total_stock" class="form-label">总库存</label>
        <input type="number" class="form-control" id="total_stock" name="total_stock" value="{{ book.total_stock if book else '' }}" required>
    </div>
    <div class="mb-3">
        <label for="available_stock" class="form-label">可借阅库存</label>
        <input type="number" class="form-control" id="available_stock" name="available_stock" value="{{ book.available_stock if book else '' }}" {% if action_text == '添加' %}readonly{% endif %}>
    </div>
    <button type="submit" class="btn btn-primary">{{ action_text }}</button>
    <a href="{{ url_for('list_books') }}" class="btn btn-secondary">取消</a>
</form>
{% endblock %}